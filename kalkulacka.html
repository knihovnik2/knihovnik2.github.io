<!doctype html>
<html lang="cs">
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="styles.css?v=4">
    <title>Kalkulačka</title>
  </head>
  <body>
    <div class="container">
      <a href="index.html">&lt- back</a>
      <br>
      <br>
      <label class="input">Poloměr malýho kroužku (r):</label>
      <input type="text" id="polomer_maly" class="input">
      <br>
      <label class="input">Poloměr velkýho kroužku (R):</label>
      <input type="text" id="polomer_velky" class="input">
      <br>
      <label class="input">Délka strany (s):<sup class="asterisk" title="Stačí dát buď délku strany nebo výšku">*</sup></label>
      <input type="text" id="delka_strany" class="input">
      <br>
      <label class="input">Výška (v):<sup class="asterisk" title="Stačí dát buď délku strany nebo výšku">*</sup></label>
      <input type="text" id="vyska" class="input">
      <br>
      <br>
      <button onclick="spocitat()" class="spocitat_kuzel">Spočítat</button>
      <br>
      <p><span id="povrch_output"></span></p>
      <br>
      <p><span id="povrch_plaste_output"></span></p>
      <br>
      <p><span id="objem_output"></span></p>
    </div>

    <script>
        function spocitat() {
            let polomer_maly = document.getElementById("polomer_maly").value;
            let polomer_velky = document.getElementById("polomer_velky").value;
            let delka_strany = document.getElementById("delka_strany").value;
            let vyska = document.getElementById("vyska").value;
            if (polomer_maly != "" && polomer_velky != "") {
                if (delka_strany != "") {
                    let polomer_maly = Number(document.getElementById("polomer_maly").value);
                    let polomer_velky = Number(document.getElementById("polomer_velky").value);
                    let delka_strany = Number(document.getElementById("delka_strany").value);
                    let vyska = (Math.sqrt(delka_strany**2 - (polomer_velky - polomer_maly)**2));

                    let povrch_output = String(polomer_maly**2 + polomer_velky**2 + delka_strany*(polomer_maly+polomer_velky));
                    let povrch_plaste_output = String(delka_strany*(polomer_maly+polomer_velky));
                    let objem_output = String((1/3)*(polomer_velky**2 + polomer_maly*polomer_velky + polomer_maly**2)*vyska);

                    document.getElementById("povrch_output").innerText = "Povrch: " + povrch_output + "π";
                    document.getElementById("povrch_plaste_output").innerText = "Obsah pláště: " + povrch_plaste_output + "π";
                    document.getElementById("objem_output").innerText = "Objem: " + objem_output + "π";
                } 
                else if (vyska != "") {
                    let polomer_maly = Number(document.getElementById("polomer_maly").value);
                    let polomer_velky = Number(document.getElementById("polomer_velky").value);
                    let vyska = Number(document.getElementById("vyska").value);
                    let delka_strany = Math.sqrt(vyska**2 + (polomer_velky - polomer_maly)**2);

                    let povrch_output = String(polomer_maly**2 + polomer_velky**2 + delka_strany*(polomer_maly+polomer_velky));
                    let povrch_plaste_output = String(delka_strany*(polomer_maly+polomer_velky));
                    let objem_output = String((1/3)*(polomer_velky**2 + polomer_maly*polomer_velky + polomer_maly**2)*vyska);

                    document.getElementById("povrch_output").innerText = "Povrch: " + povrch_output + "π";
                    document.getElementById("povrch_plaste_output").innerText = "Obsah pláště: " + povrch_plaste_output + "π";
                    document.getElementById("objem_output").innerText = "Objem: " + objem_output + "π";
                }
                else {
                    document.getElementById("povrch_output").innerText = "INVALID INPUT";
                    document.getElementById("povrch_plaste_output").innerText = "";
                    document.getElementById("objem_output").innerText = "";
                }
            } 
            else {
                document.getElementById("povrch_output").innerText = "INVALID INPUT";
                document.getElementById("povrch_plaste_output").innerText = "";
                document.getElementById("objem_output").innerText = "";
            }
        }
    </script>
  </body>
</html>